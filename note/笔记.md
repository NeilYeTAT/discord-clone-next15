## 基本配置 0:00:00

**记得使用无痕模式开发~我也不知道是我浏览器哪个插件, 控制台一直给我报错...**

> shadcn ui 不支持 Tailwind CSS v4...

在创建文件夹时, up 使用了 (routes) 路由组来隔离 layout.tsx.
说实话, 确实还挺直观的, 将布局和页面隔离开~

```shell
- (main)
  - (routes)
  layout.tsx

- (auth)
  - (routes)
  layout.tsx
```

## 身份验证 0:37:07

使用了 `@clerk/nextjs` 进行身份验证, 本来想使用 `next-auth` 的, 但是人总要尝试点新东西的, 不是嘛~

Tips: 最新文档导入了这么一堆, 其中两个登陆登出按扭没必要展示~
另外新创建的仪表盘下面的教程, 默认公开了所有线路, 没有保护任何页面, 可以取下面这个官网这里看详细步骤~

[clerk 官网](https://clerk.com/docs/references/nextjs/custom-sign-in-or-up-page)

这样就保护了所有的页面, 访问首页重定向到登陆页面~
登陆成功后才能访问受保护的页面~

```tsx
import {
  ClerkProvider,
  SignInButton,
  SignedIn,
  SignedOut,
  UserButton,
} from '@clerk/nextjs'
// -
return (
  <ClerkProvider>
    <html lang="en" className={OpenSansFont.className}>
      <body className="h-full">
        {/* <SignedOut>
            <SignInButton />
          </SignedOut> */}
        {/* <SignedIn>
            <UserButton />
          </SignedIn> */}
        可以留一个这个, 登陆成功后首页会展示你的头像~
        <UserButton />
        {children}v
      </body>
    </html>
  </ClerkProvider>
)
```

[[...sign-in]] 动态路由语法, 这个 `[[...foldName]]` 可以捕获 `foldName/a/b/c...`

Next.js 15 返回的是`promise`，需要`await` 获取动态路由(占位参数)哦~

不过官网说现在还可以不用 await, 但是战未来, 这里提一嘴~

[Nextjs 官网](https://nextjs.org/docs/app/building-your-application/routing/dynamic-routes)

```shell
In version 14 and earlier, params was a synchronous prop. To help with backwards compatibility, you can still access it synchronously in Next.js 15, but this behavior will be deprecated in the future.

在版本14和更早的版本中， params是同步道具。为了帮助向后兼容，您仍然可以在Next.js 15中同步访问它，但是将来将弃用此行为。
```

现在添加完 `clerk` 之后就可以测试了 `http://localhost:3000/sign-in`

预期应该出现一个表单, 使用 google 登陆成功后, 应该可以看到左上角有自己的头像~

可以开始画页面了~

## 侧边栏 0:50:06
